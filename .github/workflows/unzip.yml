name: Auto Unzip
on:
  push:
    paths:
      - '*.zip'  # 监听所有.zip压缩包的上传（若用tar.gz，改为'*.tar.gz'）

jobs:
  unzip:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        
      - name: Unzip file
        run: |
          # 解压所有zip包到当前目录（如需解压到指定文件夹，可改为 unzip *.zip -d ./目标文件夹）
          unzip *.zip -d ./
          # 若为tar.gz，替换上面两行：tar -zxvf *.tar.gz -C ./
          
      - name: Commit and push
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "Auto unzip files"
          file_pattern: "*"  # 提交所有解压后的文件
